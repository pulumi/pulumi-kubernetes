name: oci
runtime: yaml
description: |
  Tests Helm with a private OCI registry.
config:
  chart:
    type: string
  version:
    type: string
  username:
    type: string
  password:
    type: string

resources:
  v4chart:
    type: kubernetes:helm.sh/v4:Chart
    properties:
      chart: ${chart}
      version: ${version}
      repositoryOpts:
        username: ${username}
        password: ${password}

  v3release:
    type: kubernetes:helm.sh/v3:Release
    properties:
      chart: ${chart}
      version: ${version}
      repositoryOpts:
        username: ${username}
        password: ${password}
